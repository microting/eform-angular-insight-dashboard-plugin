<eform-new-subheader>
  <button
    mat-raised-button
    id="createSurveyConfigBtn"
    color="accent"
    (click)="openCreateModal()"
  >
    {{ 'New Survey Config' | translate }}
  </button>
</eform-new-subheader>

<ng-template #toolbarTpl>
  <div class="d-flex flex-row justify-content-start flex-nowrap">
    <div class="d-flex flex-column mr-2 ml-2">
      <mat-form-field>
        <mat-label>{{ 'Search' | translate }}</mat-label>
        <input
          matInput
          type="text"
          (ngModelChange)="onSearchInputChanged($event)"
          [ngModel]="surveysStateService.getNameFilter() | async"
          id="searchInput"
        />
      </mat-form-field>
    </div>
  </div>
</ng-template>

<mtx-grid
  [data]="surveyConfigurationsListModel?.entities"
  [columns]="tableHeaders"
  [showPaginator]="true"
  [paginationTemplate]="paginatorTpl"
  [pageOnFront]="false"
  [rowStriped]="true"
  [showToolbar]="true"
  [showColumnMenuButton]="false"
  [toolbarTemplate]="toolbarTpl"
  [sortActive]="surveysStateService.getActiveSort() | async"
  [sortDirection]="surveysStateService.getActiveSortDirection() | async"
  (sortChange)="sortTable($event)">
</mtx-grid>

<ng-template #paginatorTpl>
  <eform-pagination
    [pagination]="surveysStateService.getPagination() | async"
    (paginationChanged)="onPaginationChanged($event)"
  ></eform-pagination>
</ng-template>

<app-survey-configuration-status
  #statusSurveyConfigModal
  (configStatusChanged)="getSurveyConfigsList()"
></app-survey-configuration-status>
<!--<app-installation-assign-->
<!--  #assignInstallationModal (installationAssigned)="getInstallationsList()"-->
<!--&gt;</app-installation-assign>-->
<!--<app-installation-retract-->
<!--  #retractInstallationModal (installationRetracted)="getInstallationsList()"-->
<!--&gt;</app-installation-retract>-->
